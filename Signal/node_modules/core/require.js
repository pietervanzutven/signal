function require(input) {
    if (typeof input === 'string') {
        let module;
        if (input.includes('\/')) {
            const err = new Error();
            const stack = err.stack.split('\n')[2];
            const start = stack.lastIndexOf('ms-appx:');
            const end = stack.lastIndexOf('.js');
            const path = stack.substring(start,end);
            const parts = path.split('/');
            parts.pop();
            const uri = Windows.Foundation.Uri(parts.join('/') + '/' + input);
            module = uri.absoluteUri.replace('\/ts\/','\/js\/typescript\/');
        } else {
            module = 'ms-appx://signal/node_modules/' + input;
        }

        if (require.modules[module]) {
            const exports = {};
            require.modules[module](exports);
            return exports;
        } else {
            return window[input];
        }
    } else {
        const err = new Error();
        const start = err.stack.indexOf('at Global code (')+16;
        const end = err.stack.indexOf(':1:1)');
        const path = err.stack.substring(start,end).replace('.js','').replace('\/index','');
        require.modules[path] = input;
    }
}
require.modules = {};