(function () {
    'use strict';

    const getKeyFromPath = path => path.replace(app.getPath() + '/', '');

    window.fs = {
        readFileSync: (file, encoding) => {
            const key = getKeyFromPath(file);
            if (Windows.Storage.ApplicationData.current.localSettings.values.hasKey(key)) {
                return Windows.Storage.ApplicationData.current.localSettings.values[key];
            } else {
                throw {code: 'ENOENT'};
            }
        },
        writeFileSync: (file, text, encoding) => {
            const key = getKeyFromPath(file);
            Windows.Storage.ApplicationData.current.localSettings.values[key] = text;
        },
        unlinkSync: file => {
            const key = getKeyFromPath(file);
            Windows.Storage.ApplicationData.current.localSettings.values.remove(key);
        }
    }

})();