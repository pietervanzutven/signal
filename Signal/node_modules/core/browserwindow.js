function BrowserWindow(options) {
    this.callbacks = {};
    this.on = (name, callback) => this.callbacks[name] = callback;
    this.once = (name, callback) => this.callbacks[name] = callback;
    this.loadURL = url => this.frame.src = url.replace('file:///','');
    this.show = () => {
        this.frame.style.visibility = 'visible';
        if (this.closeButton) {
            this.closeButton.style.visibility = 'visible';
        }
    }
    this.close = () => {
        if (this.closeButton) {
            document.body.removeChild(this.closeButton);
        }
        document.body.removeChild(this.frame);
        if (this.callbacks['closed']) {
            this.callbacks['closed']();
        }
    }

    this.frame = document.createElement('iframe');
    this.frame.style.position = 'absolute';
    this.frame.style.top = 'calc(50% - ' + options.height / 2 + 'px)';
    this.frame.style.left = 'calc(50% - ' + options.width / 2 + 'px)';
    this.frame.style.width = options.width + 'px';
    this.frame.style.height = options.height + 'px';
    this.frame.style.zIndex = '500';
    this.frame.style.border = 'none';
    this.frame.style.visibility = 'hidden';
    this.frame.onload = () => {
        if (this.callbacks['ready-to-show']) {
            this.callbacks['ready-to-show']();
        }
    };
    document.body.appendChild(this.frame);

    if (!options.modal) {
        this.closeButton = document.createElement('a');
        this.closeButton.className = 'x close';
        this.closeButton.href = '#';
        this.closeButton.style.position = 'absolute';
        this.closeButton.style.top = 'calc(50% - ' + (options.height / 2 - 14) + 'px)';
        this.closeButton.style.left = 'calc(50% + ' + (options.height / 2 + 14) + 'px)';
        this.closeButton.style.zIndex = '1000';
        this.closeButton.style.visibility = 'hidden';
        this.closeButton.onclick = this.close;
        document.body.appendChild(this.closeButton);
    }
}