function require_config() {
    'use strict';

    const configDir = process.env.UWP_CONFIG_DIR.replace(__dirname + '/../','');

    var xhr = new XMLHttpRequest();
    xhr.open('GET', configDir + '/default.json', false);
    xhr.send(null);

    let config = JSON.parse(xhr.response);

    xhr.open('GET', configDir + '/' + process.env.UWP_ENV + '.json', false);
    xhr.send(null);

    config = Object.assign(config, JSON.parse(xhr.response));

    config.get = name => window.app.config[name];
    config.has = name => window.app.config.hasOwnProperty(name);
    config.util = { getEnv: name => process.env[name] };

    return config;
}